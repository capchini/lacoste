import{replaceAll as e}from"../framework/base/croco.js";import{Tracker as r}from"../framework/base/event-tracker.js";import{swiperInit as o}from"../framework/modules/swiper-config.js";import{recommendationInit as t}from"../framework/components/recommendation.js";import{homeTagPlan as a}from"../framework/tracking/home-tagplan.js";r.updateTagPlan(a);var m=function(){var o=0;const t=[];let a=document.querySelectorAll(".js-mcontent-strate");for(let l=0,f=a.length;l<f;l++){o+=1;let f=a[l];var m=f.id;let g=f.querySelectorAll(".js-track");for(let a=0,l=g.length;a<l;a++){var n=g[a].dataset;if("homepage.promotionClick"===n.tagId){var s=r.retrieveTag(n.tagId),i=s.data&&s.data.promotion&&s.data.promotion[0],p=n.replace&&JSON.parse(n.replace)||{},c=(p["%label%"]||g[a].innerText||"").replace(/[\t\n\r\s"']/g,"_");p["%promo_id%"]=Lacoste.siteprefs.ISO_COUNTRY_CODE+"|"+Lacoste.siteprefs.CURRENT_LOCALE+"|"+p["%trackingcategory%"]+"|"+m+(c?"|"+c:""),p["%promo_position%"]=o+"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a],g[a].dataset.replace=JSON.stringify(p),i&&t.push(JSON.parse(e(JSON.stringify(i),p)))}}}t.length&&(r.updateDatalayer("promotions",t),r.sendTracking("homepage.promotionsView"))};m(),o(),t(".js-home-recommendations");